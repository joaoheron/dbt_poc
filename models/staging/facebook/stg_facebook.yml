version: 2

sources:
  - name: facebook
    database: raw
    schema: facebook
    tables:
      - name: fb_customers
        loaded_at_field: loaded_at
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}

      - name: fb_followers
        loaded_at_field: loaded_at
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}

      - name: fb_mentions
        loaded_at_field: loaded_at
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}

      - name: fb_products
        loaded_at_field: loaded_at
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}

      - name: fb_reviews
        loaded_at_field: loaded_at
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}

      - name: fb_sales
        loaded_at_field: loaded_at
        freshness:
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}

models:
  - name: stg_facebook__customers
    columns:
      - name: guid
        description: ""
        tests:
          - unique
          - not_null
      - name: profile_url
        description: ""
        tests:
          - unique
          - not_null
      - name: full_name
        description: ""
      - name: email
        description: ""
      - name: phone
        description: ""
      - name: country
        description: ""
      - name: shipping_address
        description: ""

  - name: stg_facebook__followers
    columns:
      - name: guid
        description: ""
        tests:
          - unique
          - not_null
      - name: profile_url
        description: ""
        tests:
          - unique
          - not_null
      - name: full_name
        description: ""
      - name: friends_number
        description: ""
      - name: profile_description

  - name: stg_facebook__mentions
    columns:
      - name: guid
        description: ""
        tests:
          - unique
          - not_null
      - name: post_url
        description: ""
      - name: profile_url
        description: ""
      - name: author_full_name
        description: ""
      - name: content
        description: ""
      - name: media
        description: ""
      - name: tags
        description: ""
      - name: mentions
        description: ""
      - name: likes_number
        description: ""
      - name: comments_number
        description: ""
      - name: views_number
        description: ""

  - name: stg_facebook__products
    columns:
      - name: guid
        description: ""
        tests:
          - unique
          - not_null
      - name: application_id
        description: ""
        tests:
          - not_null
      - name: product_url
        description: ""
      - name: brand
        description: ""
      - name: collection
        description: ""
      - name: color
        description: ""
      - name: price
        description: ""
      - name: currency
        description: ""

  - name: stg_facebook__reviews
    columns:
      - name: guid
        description: ""
        tests:
          - unique
          - not_null
      - name: reviewer_profile_url
        description: ""
      - name: reviewer_full_name
        description: ""
      - name: stars_number
        description: ""
      - name: content
        description: ""

  - name: stg_facebook__sales
    columns:
      - name: guid
        description: ""
        tests:
          - unique
          - not_null
      - name: customer_guid
        description: ""
        tests:
          - not_null
      - name: customer_profile_url
        description: ""
      - name: products_guids
        description: ""
      - name: products_quantities
        description: ""
      - name: datetime
        description: ""
      - name: payment_method
        description: ""
